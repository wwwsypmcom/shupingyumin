(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34b6a080"],{6995:function(e,t,o){},"9ed6":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-wrapper"},[o("div",{staticClass:"headnav"},[e._m(0),o("div",{staticClass:"rightInfo"},[o("span",{staticClass:"mr5"},[e._v(e._s(e.dateTime))]),o("span",{staticClass:"mr5",on:{click:e.login}},[e._v("欢迎"),o("strong",[e._v(e._s(e.username?"【西藏神威药业有限公司】":"【请登录】")+"使用！")])]),o("span",{staticClass:"mr10",on:{click:e.logout}},[e._v("退出")])])]),o("div",{staticClass:"main-container mans"},[o("div",[o("sidebar")],1),o("div",[o("div",{staticClass:"login-container"},[o("h2",{staticClass:"titles"},[e._v("登录")]),o("p",{staticClass:"info"},[e._v(" 请输入登录账号和密码；如果您遗忘或丢失了帐户或密码，请与管理人员联系。如果您有意成为我们的供应商")]),o("fieldset",[o("legend",[e._v("账户信息")]),o("el-form",{ref:"loginForm",staticClass:"login-form loginfr",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[o("el-form-item",{attrs:{prop:"loginname"}},[o("label",{staticClass:"mr10 pname"},[e._v("登录账号")]),o("el-input",{ref:"loginname",attrs:{placeholder:"请输入企业账号",name:"loginname",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.loginname,callback:function(t){e.$set(e.loginForm,"loginname",t)},expression:"loginForm.loginname"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("label",{staticClass:"mr10 pname"},[e._v("登录密码")]),o("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("label",{staticClass:"mr10 pname"},[e._v("用户类型")]),o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.loginForm.loginperson,callback:function(t){e.$set(e.loginForm,"loginperson",t)},expression:"loginForm.loginperson"}},e._l(e.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-button",{staticStyle:{width:"80px","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)])])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"leftInfo"},[n("img",{staticClass:"logo",attrs:{src:o("a8b4"),alt:""}}),n("h2",{staticClass:"title"},[e._v("SAP业务协作平台")])])}],a=o("cd4a"),i=o("5f87"),r={name:"Layout",components:{Navbar:a["b"],Sidebar:a["c"]},data:function(){var e=function(e,t,o){o()},t=function(e,t,o){t.length<4?o(new Error("密码输入错误")):o()};return{dateTime:"",username:"",value:"1",loginForm:{loginname:"",password:"",loginperson:"1"},loginRules:{loginname:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},options:[{value:"1",label:"供应商"},{value:"2",label:"企业用户"}],loading:!1,passwordType:"password",redirect:void 0}},created:function(){this.dateTime=this.getNowFormatDay(),this.username=sessionStorage.getItem("zzzloginname")?sessionStorage.getItem("zzzloginname"):""},methods:{login:function(){this.username||this.$router.push({path:"/login"})},logout:function(){sessionStorage.removeItem("zzzloginname"),sessionStorage.removeItem("loginperson"),sessionStorage.removeItem("ldz_admin_token"),this.$router.push({path:"/login"})},getNowFormatDay:function(e){var t="-";null==e&&(e=new Date);var o=e.getDate(),n=e.getMonth()+1,s=e.getFullYear();return s+t+this.completeDate(n)+t+this.completeDate(o)},getNowFormatTime:function(){var e=new Date,t=":",o=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return this.getNowFormatDay(e)+" "+this.completeDate(o)+t+this.completeDate(n)+t+this.completeDate(s)},completeDate:function(e){return e<10?"0"+e:e},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,"1085"==e.loginForm.loginname?"1"==e.loginForm.loginperson&&"sw123"==e.loginForm.password||"2"==e.loginForm.loginperson&&"sw+123"==e.loginForm.password?(e.loading=!1,Object(i["c"])("1111"),sessionStorage.setItem("zzzloginname",e.loginForm.loginname),sessionStorage.setItem("loginperson",e.loginForm.loginperson),e.$router.push({path:e.redirect||"/"})):(e.loading=!1,e.$message({message:"个人账号或密码错误",type:"error"})):(e.loading=!1,e.$message({message:"企业账号错误",type:"error"}))}))}}},l=r,m=(o("b0f9"),o("f421"),o("2877")),c=Object(m["a"])(l,n,s,!1,null,"1713c98c",null);t["default"]=c.exports},b0f9:function(e,t,o){"use strict";o("bdcf")},bdcf:function(e,t,o){},f421:function(e,t,o){"use strict";o("6995")}}]);